---
title: "WDFW_eg_guidelines_worked_example"
author: "Wendel Raymond"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

## WDFW eelgrass guidelines worked example
This script follows Appendix A in the Washington Department of Fish and Wildlife Eelgrass Survey Guidelines. The goal of this script is two-fold. First, it follows Appendix A so that project proponents can run calculations themselves to reinforce learning. Second, is to provide a template for proponents to apply to actual projects.

Libraries and session settings. You will need to download and call the following libraries to execute the script.
```{r}
library(tidyverse)
theme_set(theme_classic())

pal <- c("#6A8026", "#3542A1")
```


### Load data
Load example data set. Note that the format of this file is simplified compared to the provided data template. This is simplification is purely to streamline the example data creation. Proponents should structure their data following the template.

Note that the csv file must be in the same folder for the following code to work. Proponents may need to edit the text in the quotes depending on where they have saved the data files on their computer.

```{r}
dat <- read.csv("WDFW_eg_guidelines_worked_example_data.csv", header = TRUE, stringsAsFactors = FALSE)
```

#### Structure data
This step is critically important for interpretation later in the process. It sets the hierarchy of time and site.
```{r}
dat$time <- factor(dat$time, levels = c("pre_project", "1_year_post", "3_year_post", "5_year_post"))
dat$site <- factor(dat$site, levels = c("project", "reference"))
```

### Summerize data
Compute the mean and standard deviation of the data by site and year. This summary dataframe will be used for reference and making plots.
```{r}
dat.sum <- dat %>% 
  group_by(site, time) %>% 
  summarize(eg_mean = mean(eg_density),
            eg_sd = sd(eg_density))
```

### Compute N*
This is the 